<script>
// @ts-nocheck

	import { onMount } from 'svelte';
	import { fly, fade, scale } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';

	let scrollY = 0;
	let innerHeight = 0;
	let isVisible = {};

	onMount(() => {
		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					isVisible[entry.target.id] = true;
				}
			});
		}, { threshold: 0.2 });

		document.querySelectorAll('[id]').forEach(el => {
			observer.observe(el);
		});

		return () => observer.disconnect();
	});

	const features = [
		{
			icon: 'ğŸ¤–',
			title: 'IA PersonnalisÃ©e',
			description: 'Algorithmes d\'optimisation d\'entraÃ®nements basÃ©s sur vos donnÃ©es de performance et disponibilitÃ©s',
			tech: 'Deep Java Library + LangChain4j'
		},
		{
			icon: 'ğŸ‘¥',
			title: 'RÃ©seau Social',
			description: 'Connectez-vous avec d\'autres sportifs, partagez vos progrÃ¨s et motivez-vous mutuellement',
			tech: 'Architecture Ã©vÃ©nementielle temps rÃ©el'
		},
		{
			icon: 'âŒš',
			title: 'Multi-Appareils',
			description: 'Synchronisation automatique avec Garmin, Apple Watch, et 90+ autres appareils connectÃ©s',
			tech: 'Terra API + Health Connect'
		},
		{
			icon: 'ğŸ“Š',
			title: 'Analytics AvancÃ©es',
			description: 'MÃ©triques de performance en temps rÃ©el avec prÃ©dictions et recommandations intelligentes',
			tech: 'TimescaleDB + Prometheus'
		},
		{
			icon: 'ğŸ¯',
			title: 'Objectifs Adaptatifs',
			description: 'Plans d\'entraÃ®nement qui s\'adaptent automatiquement selon vos progrÃ¨s et contraintes',
			tech: 'Algorithmes gÃ©nÃ©tiques'
		},
		{
			icon: 'ğŸ”’',
			title: 'SÃ©curitÃ© RGPD',
			description: 'Protection des donnÃ©es de santÃ© avec chiffrement bout-en-bout et conformitÃ© europÃ©enne',
			tech: 'OAuth 2.0 + JWT'
		}
	];

	const techStack = [
		{
			category: 'Backend',
			icon: 'âš¡',
			color: 'from-blue-500 to-blue-700',
			items: ['Java Quarkus', 'Microservices', 'Architecture RÃ©active', 'GraalVM Native']
		},
		{
			category: 'Frontend',
			icon: 'ğŸ“±',
			color: 'from-cyan-500 to-cyan-700',
			items: ['Flutter', 'Web + Mobile', 'Riverpod', 'Material Design']
		},
		{
			category: 'Intelligence Artificielle',
			icon: 'ğŸ§ ',
			color: 'from-purple-500 to-purple-700',
			items: ['Deep Java Library', 'LangChain4j', 'ModÃ¨les PrÃ©dictifs', 'Recommandations ML']
		},
		{
			category: 'Infrastructure',
			icon: 'ğŸš€',
			color: 'from-green-500 to-green-700',
			items: ['Kubernetes', 'Docker', 'GitHub Actions', 'Prometheus + Grafana']
		}
	];

	const architectureFeatures = [
		{
			title: 'Microservices Ã‰vÃ©nementiels',
			description: 'Architecture scalable avec 7 microservices spÃ©cialisÃ©s',
			icon: 'ğŸ—ï¸'
		},
		{
			title: 'DÃ©ploiement Cloud-Native',
			description: 'Kubernetes avec auto-scaling et haute disponibilitÃ©',
			icon: 'â˜ï¸'
		},
		{
			title: 'CI/CD AutomatisÃ©',
			description: 'Pipeline DevOps complet avec tests et dÃ©ploiements sÃ©curisÃ©s',
			icon: 'ğŸ”„'
		},
		{
			title: 'Monitoring 360Â°',
			description: 'ObservabilitÃ© complÃ¨te avec mÃ©triques, logs et tracing',
			icon: 'ğŸ“ˆ'
		}
	];
</script>

<svelte:window bind:scrollY bind:innerHeight />

<!-- Hero Section -->
<section class="relative min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-800 overflow-hidden">
	<!-- Animated background elements -->
	<div class="absolute inset-0">
		{#each Array(20) as _, i}
			<div 
				class="absolute w-2 h-2 bg-white/20 rounded-full animate-pulse"
				style="left: {Math.random() * 100}%; top: {Math.random() * 100}%; animation-delay: {Math.random() * 2}s;"
			></div>
		{/each}
	</div>

	<div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20">
		<div class="text-center">
			{#if isVisible.hero !== false}
				<div in:fly="{{ y: 50, duration: 800, easing: quintOut }}">
					<h1 class="text-5xl sm:text-6xl lg:text-7xl font-bold text-white mb-8 leading-tight">
						<span class="bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">ferum</span>
						<br>
						<span class="text-3xl sm:text-4xl lg:text-5xl">Le Futur du Sport Social</span>
					</h1>
				</div>
			{/if}

			{#if isVisible.hero !== false}
				<div in:fly="{{ y: 50, duration: 800, delay: 200, easing: quintOut }}">
					<p class="text-xl sm:text-2xl text-white/90 mb-12 max-w-4xl mx-auto leading-relaxed">
						Une plateforme rÃ©volutionnaire qui combine rÃ©seau social sportif et intelligence artificielle 
						pour crÃ©er des programmes d'entraÃ®nement personnalisÃ©s et connecter une communautÃ© passionnÃ©e.
					</p>
				</div>
			{/if}

			{#if isVisible.hero !== false}
				<div in:fly="{{ y: 50, duration: 800, delay: 400, easing: quintOut }}" class="flex flex-col sm:flex-row gap-6 justify-center items-center">
					<button class="bg-gradient-to-r from-yellow-400 to-orange-500 text-gray-900 px-10 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:scale-105 transition-all duration-300 animate-pulse">
						ğŸš€ DÃ©couvrir le Projet
					</button>
					<button class="border-2 border-white text-white px-10 py-4 rounded-2xl font-semibold text-lg hover:bg-white hover:text-gray-900 transition-all duration-300">
						ğŸ“‹ Architecture Technique
					</button>
				</div>
			{/if}
		</div>

		<!-- Floating Cards Preview -->
		{#if isVisible.hero !== false}
			<div in:fly="{{ y: 100, duration: 1000, delay: 600, easing: quintOut }}" class="mt-20 grid md:grid-cols-3 gap-8 max-w-4xl mx-auto">
				{#each [
					{ icon: 'ğŸ¤–', title: 'IA AvancÃ©e', desc: 'Planification intelligente' },
					{ icon: 'ğŸ‘¥', title: 'Social', desc: 'CommunautÃ© active' },
					{ icon: 'âŒš', title: 'IoT', desc: '90+ appareils connectÃ©s' }
				] as card, i}
					<div 
						class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center hover:bg-white/20 transition-all duration-300 hover:scale-105"
						style="animation-delay: {i * 0.2}s;"
					>
						<div class="text-4xl mb-3">{card.icon}</div>
						<h3 class="text-white font-bold text-lg mb-2">{card.title}</h3>
						<p class="text-white/80 text-sm">{card.desc}</p>
					</div>
				{/each}
			</div>
		{/if}
	</div>
</section>

<!-- Features Section -->
<section id="features" class="py-24 bg-gray-50">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		{#if isVisible.features}
			<div in:fly="{{ y: 50, duration: 800, easing: quintOut }}" class="text-center mb-20">
				<h2 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-6">
					FonctionnalitÃ©s <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">RÃ©volutionnaires</span>
				</h2>
				<p class="text-xl text-gray-600 max-w-3xl mx-auto">
					Une plateforme complÃ¨te qui rÃ©invente l'expÃ©rience sportive grÃ¢ce Ã  l'intelligence artificielle et la technologie moderne.
				</p>
			</div>
		{/if}

		<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
			{#each features as feature, i}
				{#if isVisible.features}
					<div 
						in:fly="{{ y: 50, duration: 600, delay: i * 100, easing: quintOut }}"
						class="bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 group"
					>
						<div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-300">{feature.icon}</div>
						<h3 class="text-2xl font-bold text-gray-900 mb-4">{feature.title}</h3>
						<p class="text-gray-600 mb-4 leading-relaxed">{feature.description}</p>
						<div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3">
							<span class="text-sm font-semibold text-blue-600">ğŸ”§ {feature.tech}</span>
						</div>
					</div>
				{/if}
			{/each}
		</div>
	</div>
</section>

<!-- Tech Stack Section -->
<section id="tech" class="py-24 bg-gray-900">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		{#if isVisible.tech}
			<div in:fly="{{ y: 50, duration: 800, easing: quintOut }}" class="text-center mb-20">
				<h2 class="text-4xl sm:text-5xl font-bold text-white mb-6">
					Stack Technique <span class="bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">Moderne</span>
				</h2>
				<p class="text-xl text-gray-300 max-w-3xl mx-auto">
					Technologies de pointe pour une architecture scalable, performante et sÃ©curisÃ©e.
				</p>
			</div>
		{/if}

		<div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
			{#each techStack as tech, i}
				{#if isVisible.tech}
					<div 
						in:fly="{{ y: 50, duration: 600, delay: i * 150, easing: quintOut }}"
						class="bg-gray-800 rounded-2xl p-8 hover:bg-gray-700 transition-all duration-300 group hover:scale-105"
					>
						<div class="bg-gradient-to-r {tech.color} w-16 h-16 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:rotate-12 transition-transform duration-300">
							{tech.icon}
						</div>
						<h3 class="text-2xl font-bold text-white mb-6">{tech.category}</h3>
						<ul class="space-y-3">
							{#each tech.items as item}
								<li class="flex items-center text-gray-300">
									<div class="w-2 h-2 bg-gradient-to-r {tech.color} rounded-full mr-3"></div>
									{item}
								</li>
							{/each}
						</ul>
					</div>
				{/if}
			{/each}
		</div>
	</div>
</section>

<!-- Architecture Section -->
<section id="architecture" class="py-24 bg-gradient-to-br from-blue-50 to-indigo-100">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		{#if isVisible.architecture}
			<div in:fly="{{ y: 50, duration: 800, easing: quintOut }}" class="text-center mb-20">
				<h2 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-6">
					Architecture <span class="bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent">Cloud-Native</span>
				</h2>
				<p class="text-xl text-gray-600 max-w-3xl mx-auto">
					Une architecture microservices moderne, scalable et rÃ©siliente pensÃ©e pour la production.
				</p>
			</div>
		{/if}

		<!-- Architecture Diagram -->
		{#if isVisible.architecture}
			<div in:scale="{{ duration: 800, delay: 200, easing: quintOut }}" class="bg-white rounded-3xl p-8 shadow-2xl mb-16">
				<div class="grid lg:grid-cols-3 gap-8 items-center">
					<!-- Frontend -->
					<div class="text-center">
						<div class="bg-gradient-to-br from-cyan-400 to-blue-500 w-24 h-24 rounded-2xl mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold shadow-lg">
							ğŸ“±
						</div>
						<h3 class="text-xl font-bold text-gray-900 mb-2">Frontend</h3>
						<p class="text-gray-600 text-sm">Flutter Multi-Platform</p>
						<div class="mt-4 space-y-1 text-sm text-gray-500">
							<div>â€¢ Mobile iOS/Android</div>
							<div>â€¢ Progressive Web App</div>
							<div>â€¢ Riverpod State Management</div>
						</div>
					</div>

					<!-- Arrow -->
					<div class="hidden lg:flex justify-center">
						<div class="text-4xl text-indigo-400">â†”ï¸</div>
					</div>

					<!-- Backend -->
					<div class="text-center">
						<div class="bg-gradient-to-br from-indigo-500 to-purple-600 w-24 h-24 rounded-2xl mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold shadow-lg">
							âš¡
						</div>
						<h3 class="text-xl font-bold text-gray-900 mb-2">Backend</h3>
						<p class="text-gray-600 text-sm">Java Quarkus Microservices</p>
						<div class="mt-4 space-y-1 text-sm text-gray-500">
							<div>â€¢ 7 Services spÃ©cialisÃ©s</div>
							<div>â€¢ Architecture Ã©vÃ©nementielle</div>
							<div>â€¢ Native GraalVM</div>
						</div>
					</div>
				</div>

				<!-- Microservices Detail -->
				<div class="mt-12 grid md:grid-cols-2 lg:grid-cols-4 gap-4">
					{#each [
						{ name: 'User Service', port: '8010', icon: 'ğŸ‘¤' },
						{ name: 'Social Service', port: '8020', icon: 'ğŸ‘¥' },
						{ name: 'Workout Service', port: '8030', icon: 'ğŸ’ª' },
						{ name: 'AI Service', port: '8040', icon: 'ğŸ¤–' },
						{ name: 'Device Service', port: '8050', icon: 'âŒš' },
						{ name: 'Analytics Service', port: '8060', icon: 'ğŸ“Š' },
						{ name: 'Notification Service', port: '8070', icon: 'ğŸ””' },
						{ name: 'API Gateway', port: '8080', icon: 'ğŸšª' }
					] as service, i}
						<div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 text-center hover:shadow-md transition-all duration-300">
							<div class="text-2xl mb-2">{service.icon}</div>
							<div class="font-semibold text-gray-900 text-sm">{service.name}</div>
							<div class="text-xs text-gray-500">:{service.port}</div>
						</div>
					{/each}
				</div>
			</div>
		{/if}

		<!-- Architecture Features -->
		<div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
			{#each architectureFeatures as feature, i}
				{#if isVisible.architecture}
					<div 
						in:fly="{{ y: 50, duration: 600, delay: i * 100, easing: quintOut }}"
						class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
					>
						<div class="text-3xl mb-4">{feature.icon}</div>
						<h3 class="font-bold text-gray-900 mb-2">{feature.title}</h3>
						<p class="text-gray-600 text-sm">{feature.description}</p>
					</div>
				{/if}
			{/each}
		</div>
	</div>
</section>

<!-- DevOps & Performance Section -->
<section class="py-24 bg-gray-900">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="text-center mb-16">
			<h2 class="text-4xl font-bold text-white mb-6">
				DevOps & <span class="bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent">Performance</span>
			</h2>
		</div>

		<div class="grid lg:grid-cols-2 gap-12 items-center">
			<!-- DevOps Pipeline -->
			<div class="bg-gray-800 rounded-2xl p-8">
				<h3 class="text-2xl font-bold text-white mb-6">Pipeline CI/CD</h3>
				<div class="space-y-4">
					{#each [
						{ step: 'Code Push', icon: 'ğŸ“', desc: 'Git commit sur production' },
						{ step: 'Tests Auto', icon: 'ğŸ§ª', desc: 'Tests unitaires & intÃ©gration' },
						{ step: 'Build Native', icon: 'âš¡', desc: 'Image Docker optimisÃ©e' },
						{ step: 'Deploy K8s', icon: 'ğŸš€', desc: 'DÃ©ploiement automatique' },
						{ step: 'Monitoring', icon: 'ğŸ“Š', desc: 'MÃ©triques & alertes' }
					] as step, i}
						<div class="flex items-center space-x-4 p-4 bg-gray-700 rounded-xl">
							<div class="text-2xl">{step.icon}</div>
							<div>
								<div class="text-white font-semibold">{step.step}</div>
								<div class="text-gray-300 text-sm">{step.desc}</div>
							</div>
						</div>
					{/each}
				</div>
			</div>

			<!-- Performance Metrics -->
			<div class="space-y-8">
				<div class="text-center">
					<h3 class="text-2xl font-bold text-white mb-8">Performances Cibles</h3>
				</div>
				
				{#each [
					{ metric: 'Temps de dÃ©marrage', value: '< 1s', icon: 'âš¡', color: 'from-yellow-400 to-orange-500' },
					{ metric: 'Utilisateurs simultanÃ©s', value: '100k+', icon: 'ğŸ‘¥', color: 'from-blue-400 to-purple-500' },
					{ metric: 'Temps de rÃ©ponse API', value: '< 200ms', icon: 'ğŸ¯', color: 'from-green-400 to-blue-500' },
					{ metric: 'DisponibilitÃ©', value: '99.9%', icon: 'ğŸ›¡ï¸', color: 'from-purple-400 to-pink-500' }
				] as perf}
					<div class="bg-gray-800 rounded-2xl p-6 hover:bg-gray-700 transition-all duration-300">
						<div class="flex items-center justify-between">
							<div class="flex items-center space-x-4">
								<div class="bg-gradient-to-r {perf.color} w-12 h-12 rounded-xl flex items-center justify-center text-xl">
									{perf.icon}
								</div>
								<div>
									<div class="text-white font-semibold">{perf.metric}</div>
									<div class="text-gray-300 text-sm">Objectif de performance</div>
								</div>
							</div>
							<div class="text-3xl font-bold bg-gradient-to-r {perf.color} bg-clip-text text-transparent">
								{perf.value}
							</div>
						</div>
					</div>
				{/each}
			</div>
		</div>
	</div>
</section>

<!-- CTA Section -->
<section id="contact" class="py-24 bg-gradient-to-br from-indigo-600 to-purple-700">
	<div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
		<div in:fly="{{ y: 50, duration: 800, easing: quintOut }}">
			<h2 class="text-4xl sm:text-5xl font-bold text-white mb-8">
				Rejoignez l'Innovation Sportive
			</h2>
			<p class="text-xl text-white/90 mb-12">
				Participez au dÃ©veloppement d'une plateforme qui va rÃ©volutionner l'expÃ©rience sportive. 
				Que vous soyez dÃ©veloppeur, designer, ou passionnÃ© de sport, votre contribution compte !
			</p>
		</div>

		<div in:fly="{{ y: 50, duration: 800, delay: 200, easing: quintOut }}" class="flex flex-col sm:flex-row gap-6 justify-center">
			<button class="bg-white text-indigo-600 px-10 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:scale-105 transition-all duration-300">
				ğŸš€ Contribuer au projet
			</button>
			<button class="border-2 border-white text-white px-10 py-4 rounded-2xl font-semibold text-lg hover:bg-white hover:text-indigo-600 transition-all duration-300">
				ğŸ“§ Nous contacter
			</button>
		</div>

		<div in:fade="{{ duration: 800, delay: 400 }}" class="mt-16 grid md:grid-cols-3 gap-8">
			{#each [
				{ icon: 'ğŸ“§', title: 'Email', value: 'hello@ferum-ai.dev' },
				{ icon: 'ğŸ’»', title: 'GitHub', value: 'github.com/ferum-ai' },
				{ icon: 'ğŸ’¬', title: 'Discord', value: 'CommunautÃ© ferum AI' }
			] as contact}
				<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 hover:bg-white/20 transition-all duration-300">
					<div class="text-3xl mb-3">{contact.icon}</div>
					<div class="text-white font-semibold mb-1">{contact.title}</div>
					<div class="text-white/80 text-sm">{contact.value}</div>
				</div>
			{/each}
		</div>
	</div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 py-12">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="text-center">
			<div class="flex items-center justify-center space-x-2 mb-6">
				<div class="w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
					<span class="text-white font-bold text-sm">SN</span>
				</div>
				<span class="text-2xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">ferum AI</span>
			</div>
			<p class="text-gray-400 mb-8">
				RÃ©volutionner l'expÃ©rience sportive grÃ¢ce Ã  l'intelligence artificielle et la technologie moderne.
			</p>
			<div class="text-sm text-gray-500">
				Â© 2024 ferum AI - Projet Ã©tudiant innovant | Technologies : Java Quarkus â€¢ Flutter â€¢ IA â€¢ Kubernetes
			</div>
		</div>
	</div>
</footer>